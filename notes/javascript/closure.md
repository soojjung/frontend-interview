# 클로저에 대해서 설명해주세요.

## 클로저

클로저는 **외부 함수와 그 함수 안에서 선언된 중첩 함수가 있을 때, 외부 함수의 생명 주기가 끝나도 외부 함수에서 선언되었던 변수를 중첩 함수가 참조하고 값을 조작할 수 있는 그 중첩 함수를 클로저** 라고 합니다.

혹은 **함수가 속한 렉시컬 스코프를 기억하여 함수가 렉시컬 스코프 밖에서 실행될 때도 그 스코프에 접근할 수 있게 하는 기능**을 말합니다.

자바스크립트는 **렉시컬 스코프**를 채택하고 있는데, 렉시컬 스코프(정적 스코프)란 함수를 어디서 호출했는지가 아니라 어디에서 선언했는지에 따라 스코프가 결정되는 것 입니다.

따라서 상위 스코프의 어떤 식별자도 참조하지 않거나, 외부 함수보다 중첩 함수의 생명주기가 짧은 경우는 클로저의 본질에 부합하지 않기 때문에 이런 경우는 클로저라고 하지 않습니다.

외부 함수가 중첩 함수를 리턴했을때 관찰할 수 있다!

`outer` 함수를 호출하면 `outer` 함수는 중첩 함수 `inner`를 반환하고 생명 주기를 마감한다. 즉, `outer` 함수의 실행이 종료되면 `outer` 함수의 실행 컨텍스트는 실행 컨텍스트 스택에서 제거된다. 하지만 이 때, `outer` 함수의 렉시컬 환경까지 소멸하는 것은 아닌데, 왜냐하면 안에 선언해준 `inner` 함수가 참조되고 있으므로 가비지 컬렉션의 대상이 되지 않기 때문입니다.

### 클로저를 사용하는 이유

클로저는 상태가 의도치 않게 변경되지 않도록 **안전하게 은닉**하고, 특정 함수에게만 상태 변경을 허용하여, 상태를 안전하게 변경하고 유지하기 위해 사용합니다.

React에서 `useState` 훅의 주요 특징은 클로저의 주요 특징과 유사합니다.

1. 컴포넌트가 리렌더링 되어도 이전 `state` 값을 기억한다.
2. `setState` 이외 다른 함수로는 `state` 값을 변경할 수 없으므로, 외부에서의 변경으로부터 안전하다.

따라서 `useState`는 이런 클로저의 개념을 잘 활용한 예시라고 할 수 있습니다.
